<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel — Travel Sochi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="admin.css">
</head>
<body class="theme-light">

<div class="layout">
    <!-- САЙДБАР -->
    <aside class="sidebar">
        <div class="sidebar-top">
            <div class="brand">TRAVEL SOCHI</div>
            <nav class="nav">
                <button class="nav-item active" data-view="dashboard">Dashboard</button>
                <button class="nav-item" data-view="tours">Туры</button>
                <button class="nav-item" data-view="bookings">Заявки</button>
                <button class="nav-item disabled" disabled>Клиенты</button>
            </nav>
        </div>

        <div class="sidebar-bottom">
            <div class="role-info">Роль: <span class="role-highlight">Администратор</span></div>
            <div class="sidebar-actions">
                <button id="theme-toggle" class="btn-text">
                    <span class="icon">◑</span> Сменить тему
                </button>
                <button id="change-token-btn" class="btn-text" style="font-size: 11px; opacity: 0.5;">
                    Сменить токен
                </button>
            </div>
        </div>
    </aside>

    <!-- ОСНОВНОЙ КОНТЕНТ -->
    <main class="main-content">
        <!-- СТАТУС (скрытый технический элемент или маленький индикатор) -->
        <div id="status-indicator" class="status-badge">Connecting...</div>

        <!-- DASHBOARD VIEW -->
        <section id="view-dashboard" class="view active">
            <h1 class="page-title">Dashboard</h1>

            <div class="dashboard-container">
                <!-- КАРТОЧКА: ДОБАВИТЬ ТУР -->
                <div class="card card-form">
                    <h2>Добавить тур</h2>
                    
                    <form id="create-tour-form" class="soft-form">
                        <input type="text" id="new-title" class="input-soft" placeholder="Название тура" required>
                        
                        <!-- Группировка цены и типа для компактности, или можно раздельно как на скрине -->
                        <input type="number" id="new-price" class="input-soft" placeholder="Цена (₽)" required>
                        
                        <input type="text" id="new-type" class="input-soft" placeholder="Тип (jeeping, yacht...)" required>
                        
                        <textarea id="new-description" class="input-soft area-soft" placeholder="Описание" rows="4"></textarea>

                        <!-- Поле файла как на скрине -->
                        <div class="file-input-wrapper">
                            <label for="new-image" class="file-label">
                                <span class="file-btn">Выберите файл</span>
                                <span id="file-name" class="file-text">Файл не выбран</span>
                            </label>
                            <input type="file" id="new-image" accept="image/*">
                        </div>

                        <!-- Скрытый чекбокс активности (по умолчанию true) -->
                        <div class="checkbox-wrapper" style="margin-bottom: 15px;">
                            <input type="checkbox" id="new-active" checked>
                            <label for="new-active">Активен сразу</label>
                        </div>

                        <button type="submit" class="btn-primary">Сохранить</button>
                    </form>
                </div>

                <!-- КАРТОЧКА: ГРАФИК -->
                <div class="card card-chart">
                    <h2>Заявки за неделю</h2>
                    <div class="chart-wrapper">
                        <!-- Сетка графика -->
                        <div class="chart-body">
                            <div class="chart-y-axis">
                                <span>14</span><span>10</span><span>6</span><span>2</span>
                            </div>
                            <div class="chart-area">
                                <div class="chart-grid-lines">
                                    <div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div>
                                </div>
                                <!-- Точки и линии (генерируются JS или CSS) -->
                                <div id="chart-points" class="chart-drawing"></div>
                                <svg class="chart-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
                                    <polyline points="0,80 16,60 32,70 48,40 64,20 80,30 100,10" 
                                              fill="none" stroke="#FBBF24" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                        <div class="chart-x-axis">
                            <span>Пн</span><span>Вт</span><span>Ср</span><span>Чт</span><span>Пт</span><span>Сб</span><span>Вс</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TOURS VIEW -->
        <section id="view-tours" class="view">
            <h1 class="page-title">Туры</h1>
            <div id="tours-list" class="grid-list"></div>
        </section>

        <!-- BOOKINGS VIEW -->
        <section id="view-bookings" class="view">
            <h1 class="page-title">Заявки</h1>
            <div class="filters-bar">
                <button class="filter-chip active" data-status="">Все</button>
                <button class="filter-chip" data-status="new">Новые</button>
                <button class="filter-chip" data-status="confirmed">Подтвержденные</button>
                <button class="filter-chip" data-status="done">Завершенные</button>
            </div>
            <div id="bookings-list" class="list-vertical"></div>
        </section>

        <!-- Уведомления -->
        <div id="admin-error" class="toast toast-error hidden"></div>
        <div id="admin-success" class="toast toast-success hidden"></div>
    </main>

    <!-- Модальное окно редактирования -->
    <div id="tour-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <h3>Редактировать тур</h3>
            <form id="edit-tour-form" class="soft-form">
                <input type="hidden" id="edit-id">
                <input type="text" id="edit-title" class="input-soft" placeholder="Название">
                <input type="text" id="edit-type" class="input-soft" placeholder="Тип">
                <input type="number" id="edit-price" class="input-soft" placeholder="Цена">
                <textarea id="edit-description" class="input-soft" rows="3"></textarea>
                <div class="modal-buttons">
                    <button type="button" id="modal-cancel-btn" class="btn-text">Отмена</button>
                    <button type="submit" class="btn-primary">Обновить</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="admin.js"></script>
</body>
</html>
